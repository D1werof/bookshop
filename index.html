<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Головна - Інтернет-книгарня</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Ласкаво просимо до Інтернет-книгарні</h1>
        <nav>
            <ul>
                <li><a href="index.html">Головна</a></li>
                <li><a href="about.html">Про нас</a></li>
                <li><a href="contact.html">Контакти</a></li>
                <li><a href="catalog.html">Каталог</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <section id="image-section">
            <h2>Найновіші поступлення</h2>
            <img width="125" height="100" id="main-image" data-src="images/books.jpg" alt="Найновіші поступлення" loading="lazy">
            <img width="130" height="100" id="main-image" data-src="images/books2.jpg" alt="Найновіші поступлення" loading="lazy">
            <img width="130" height="100" id="main-image" data-src="images/book3.jpg" alt="Найновіші поступлення" loading="lazy">
        </section>
        
        <section id="youtube-video">
            <h2>Майбутні поступлення</h2>
            <div class="video-placeholder" data-video="https://www.youtube.com/embed/wPDAjvQCgIg?si=967tH-1xBp1DfAZS">
                <img src="images/video-placeholder.jpg" alt="Video Placeholder">
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Інтернет-книгарня. Усі права захищено.</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Ліниве завантаження зображень
            const lazyImages = document.querySelectorAll('img[data-src]');
            const imageObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.getAttribute('data-src');
                        img.removeAttribute('data-src');
                        observer.unobserve(img);
                    }
                });
            });

            lazyImages.forEach(image => {
                imageObserver.observe(image);
            });

            // Ліниве завантаження відео
            const lazyVideos = document.querySelectorAll('.video-placeholder');
            const videoObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const videoDiv = entry.target;
                        const iframe = document.createElement('iframe');
                        iframe.setAttribute('width', '350');
                        iframe.setAttribute('height', '160');
                        iframe.setAttribute('src', videoDiv.getAttribute('data-video'));
                        iframe.setAttribute('title', 'YouTube video player');
                        iframe.setAttribute('frameborder', '0');
                        iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
                        iframe.setAttribute('allowfullscreen', true);
                        videoDiv.innerHTML = '';
                        videoDiv.appendChild(iframe);
                        observer.unobserve(videoDiv);
                    }
                });
            });

            lazyVideos.forEach(video => {
                videoObserver.observe(video);
            });
        });
    </script>
</body>
</html>
